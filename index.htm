<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SocSim: Agent-Based Model of Cooperation & Competition</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Simple style for the info cards */
        .info-card {
            @apply bg-white p-4 rounded-lg shadow-sm border h-full; /* Added h-full for consistent height */
        }
        /* Ensure canvas maintains aspect ratio */
        #simulationCanvas {
             aspect-ratio: 800 / 600; /* Or your desired aspect ratio */
             width: 100%;
             height: auto;
        }
    </style>
</head>
<body class="bg-gray-100 p-4">
    <div class="flex flex-col gap-6 max-w-7xl w-full mx-auto"> <!-- Increased max-width slightly -->
        <h1 class="text-3xl font-bold text-gray-800">SocSim: Agent-Based Model of Cooperation & Competition</h1>

        <div class="w-full flex flex-col lg:flex-row gap-6">
            <!-- Left Column: Info & Stats -->
            <div class="lg:w-1/4 w-full flex flex-col gap-6">
                <!-- Conceptual Overview Card -->
                <div class="info-card border-l-4 border-blue-500">
                    <h3 class="text-lg font-bold text-blue-700 mb-2">Conceptual Overview</h3>
                    <!-- Modified Text -->
                    <p class="text-sm text-gray-700 mb-2">This simulation tests societal stability against defection and predation using evolving mechanics:</p>
                    <ul class="list-disc list-inside text-sm text-gray-600 space-y-1 pl-3">
                         <li><b>Governance (Blue):</b> Top agents pay taxes to fund 'Enforcers' that hunt Predators (Red).</li>
                         <li><b>Reciprocity (Green/Purple):</b> Direct reciprocity (tit-for-tat) enables Cooperators to exclude Defectors.</li>
                         <li><b>Collective Action (Cyan):</b> Cooperators invest in public goods (Nodes) that benefit contributors and punish free-riders.</li>
                         <li><b>Predator Dynamics (Red):</b> Predators exploit others, countered by Governance and private Sanctuaries (Predator Nodes).</li> <!-- Corrected Color Ref -->
                    </ul>
                </div>

                <!-- System Stability Stats Card -->
                <div class="info-card border-l-4 border-green-500">
                    <h3 class="text-lg font-bold text-green-700 mb-2">System Stability Stats</h3>
                    <div class="space-y-2 text-sm">
                        <h4 class="font-semibold text-gray-600 pt-1">Governance</h4>
                        <div class="flex justify-between pl-2">
                            <span>Public Pool Mass:</span>
                            <span id="stat-public-pool" class="font-bold text-gray-800">0</span>
                        </div>
                        <div class="flex justify-between pl-2">
                            <span>Enforcers Active:</span>
                            <span id="stat-enforcers" class="font-bold text-blue-600">0</span>
                        </div>
                        <div class="flex justify-between pl-2">
                            <span>Predator Mass Recovered:</span>
                            <span id="stat-mass-recovered" class="font-bold text-gray-800">0</span>
                        </div>

                        <h4 class="font-semibold text-gray-600 pt-1">Co-op Investment (Cyan)</h4>
                        <div class="flex justify-between pl-2">
                            <span>Investment Pool:</span>
                            <span id="stat-node-pool" class="font-bold text-gray-800">0</span> <!-- Co-op Pool -->
                        </div>
                        <div class="flex justify-between pl-2">
                            <span>Co-op Nodes Built:</span>
                            <span id="stat-nodes-built" class="font-bold text-cyan-600">0</span> <!-- Co-op Built -->
                        </div>
                        <div class="flex justify-between pl-2">
                            <span>Defector Node Punishments:</span>
                            <span id="stat-node-punishments" class="font-bold text-gray-800">0</span> <!-- Co-op Punish -->
                        </div>

                         <!-- Predator Investment Stats (Based on v03 JS) -->
                         <h4 class="font-semibold text-gray-600 pt-1">Predator Investment (Red)</h4>
                         <div class="flex justify-between pl-2">
                             <span>Predator Nodes Built:</span>
                             <span id="stat-pred-nodes-built" class="font-bold text-red-600">0</span>
                         </div>
                         <div class="flex justify-between pl-2">
                              <span>Active Raids:</span>
                              <span id="stat-pred-node-raids" class="font-bold text-yellow-600">0</span> <!-- Tracks raid starts -->
                         </div>

                        <h4 class="font-semibold text-gray-600 pt-1">Reciprocity</h4>
                        <div class="flex justify-between pl-2">
                            <span>Defector Exclusions:</span>
                            <span id="stat-defector-exclusions" class="font-bold text-purple-600">0</span>
                        </div>
                    </div>
                </div>

                <!-- Crime & Justice Stats Card -->
                <div class="info-card border-l-4 border-red-500">
                    <h3 class="text-lg font-bold text-red-700 mb-2">Crime & Justice Stats</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span>Arrests Made:</span>
                            <span id="stat-arrests" class="font-bold text-gray-800">0</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Thefts Committed:</span>
                            <span id="stat-thefts" class="font-bold text-gray-800">0</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Bribes Paid:</span>
                            <span id="stat-bribes" class="font-bold text-gray-800">0</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Corrupt Enforcers Caught:</span>
                            <span id="stat-corrupt-caught" class="font-bold text-gray-800">0</span>
                        </div>
                    </div>
                </div>

                <!-- Population Status Card -->
                <div class="info-card">
                    <h2 class="text-xl font-semibold mb-3 text-gray-700">Population Status</h2>
                    <p id="total-mass" class="text-sm">Total Mass: 0</p>

                    <!-- Bars (Separate Comp/Pred based on v03 structure) -->
                    <div class="mt-4 border-b pb-2">
                        <p class="font-medium text-sm text-green-700">Cooperative Group Mass: <span id="coop-group-mass-display" class="font-bold">0</span></p>
                        <div id="coop-bar" class="h-2 bg-green-400 rounded-full transition-all duration-300" style="width: 33.3%;"></div>
                    </div>
                    <!-- Updated v03 JS calculates Comp separately -->
                    <div class="mt-2 border-b pb-2">
                        <p class="font-medium text-sm text-orange-700">Competitive Group Mass: <span id="comp-group-mass-display" class="font-bold">0</span></p>
                        <div id="comp-bar" class="h-2 bg-orange-400 rounded-full transition-all duration-300" style="width: 33.3%;"></div>
                    </div>
                    <!-- Predator Bar -->
                    <div class="mt-2 border-b pb-2">
                        <p class="font-medium text-sm text-red-700">Predator Group Mass: <span id="pred-group-mass-display" class="font-bold">0</span></p>
                        <div id="pred-bar" class="h-2 bg-red-400 rounded-full transition-all duration-300" style="width: 33.3%;"></div>
                    </div>

                    <!-- Breakdown -->
                    <h3 class="text-base font-semibold mt-4 mb-2 text-gray-600">Breakdown by Agent Type:</h3>
                    <ul class="text-sm space-y-1 pl-3">
                        <li class="text-green-600">Cooperators (Green): <span id="coop-mass-display" class="font-mono font-semibold">0</span></li>
                        <li class="text-purple-600">Defectors (Purple): <span id="defector-mass-display" class="font-mono font-semibold">0</span></li>
                        <li class="text-orange-600">Competitors (Orange): <span id="comp-mass-display" class="font-mono font-semibold">0</span></li>
                        <li class="text-red-600">Predators (Red): <span id="predator-mass-display" class="font-mono font-semibold">0</span></li>
                    </ul>

                    <!-- Per Capita (Separate Comp/Pred) -->
                    <h3 class="text-base font-semibold mt-4 mb-2 text-gray-600">Structural Metrics:</h3>
                    <ul class="text-sm space-y-1 pl-3">
                        <li class="text-gray-700">Coop Group Mass/Capita: <span id="avg-coop-mass-display" class="font-mono font-semibold">0</span></li>
                         <!-- Updated v03 JS calculates Comp separately -->
                        <li class="text-gray-700">Comp Group Mass/Capita: <span id="avg-comp-mass-display" class="font-mono font-semibold">0</span></li>
                         <!-- Added Pred Per Capita -->
                         <li class="text-gray-700">Pred Group Mass/Capita: <span id="avg-pred-mass-display" class="font-mono font-semibold">0</span></li>
                    </ul>
                </div>
            </div> <!-- End Left Column -->

            <!-- Right Column: Controls, Canvas, Info Cards -->
            <div class="lg:w-3/4 w-full flex flex-col gap-6">
                <!-- Controls Row -->
                <div class="w-full flex flex-col lg:flex-row gap-6">
                    <div class="info-card lg:w-1/2">
                        <h2 class="text-xl font-semibold mb-3 text-gray-700">Simulation Speed (<span id="current-speed-display">1x</span>)</h2>
                        <div id="speed-controls" class="flex flex-wrap gap-2">
                            <!-- Ensure buttons have speed-btn class -->
                            <button data-speed="1" class="speed-btn px-2 py-1 bg-blue-500 text-white rounded-lg transition-colors shadow-md">1x</button>
                            <button data-speed="2" class="speed-btn px-2 py-1 bg-gray-200 text-gray-800 hover:bg-gray-300 rounded-lg transition-colors">2x</button>
                            <button data-speed="4" class="speed-btn px-2 py-1 bg-gray-200 text-gray-800 hover:bg-gray-300 rounded-lg transition-colors">4x</button>
                            <button data-speed="10" class="speed-btn px-2 py-1 bg-gray-200 text-gray-800 hover:bg-gray-300 rounded-lg transition-colors">10x</button>
                            <button data-speed="100" class="speed-btn px-2 py-1 bg-gray-200 text-gray-800 hover:bg-gray-300 rounded-lg transition-colors">100x</button>
                            <button data-speed="1000" class="speed-btn px-2 py-1 bg-gray-200 text-gray-800 hover:bg-gray-300 rounded-lg transition-colors">1000x</button>
                            <button data-speed="10000" class="speed-btn px-2 py-1 bg-gray-200 text-gray-800 hover:bg-gray-300 rounded-lg transition-colors">10000x</button>
                        </div>
                    </div>
                    <div class="info-card lg:w-1/2 flex flex-col justify-between">
                        <h2 class="text-xl font-semibold mb-3 text-gray-700">Controls</h2>
                        <button id="start-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition-colors shadow-md">Start Simulation</button>
                        <button id="reset-btn" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg mt-3 transition-colors shadow-md" disabled>Reset</button>
                    </div>
                </div>

                <!-- Canvas -->
                <div class="w-full">
                    <canvas id="simulationCanvas" width="800" height="600" class="w-full h-auto bg-white rounded-lg shadow-inner border-2 border-gray-300"></canvas>
                </div>

                 <!-- Scholarly Theory Cards Grid (*** Changed grid-cols-2 to md:grid-cols-4 ***) -->
                <div class="w-full grid grid-cols-1 md:grid-cols-4 gap-6"> <!-- 2x4 Grid -->
                     <div class="info-card border-l-4 border-blue-500">
                        <h3 class="text-lg font-bold text-blue-700 mb-2">Governance & Public Goods</h3>
                        <p class="text-sm text-gray-700">Models a minimal state via taxation and enforcement. Top agents' wealth tax funds a public pool, simulating public finance. This pool pays 'Enforcers' (police). This reflects concepts from Public Choice Theory (Buchanan & Tullock, 1962) on collective action costs and the provision of public goods like security. Enforcer spawning/firing based on pool mass models fiscal constraints.</p>
                    </div>
                     <div class="info-card border-l-4 border-cyan-500">
                        <h3 class="text-lg font-bold text-cyan-700 mb-2">Collective Action Problems</h3>
                        <p class="text-sm text-gray-700">Cooperators' investment in 'Co-op Nodes' illustrates solutions to collective action dilemmas (Olson, 1965). The shared pool requires individual contribution for a group benefit (resource node). Nodes act as a 'club good' (Buchanan, 1965), providing excludable benefits (resources) and punishing non-contributors (Defectors), overcoming the free-rider problem inherent in pure public goods.</p>
                    </div>
                     <div class="info-card border-l-4 border-teal-500">
                        <h3 class="text-lg font-bold text-teal-700 mb-2">Reciprocity & Trust</h3>
                        <p class="text-sm text-gray-700">Cooperators' exclusion of Defectors models direct reciprocity ('tit-for-tat') (Axelrod, 1984). Remembering interactions allows Cooperators to learn trustworthiness and punish defection. The exclusion threshold represents limited tolerance, reflecting psychological findings on forgiveness and reputation (Nowak & Sigmund, 1998). This mechanism is crucial for the evolution of cooperation in repeated interactions.</p>
                    </div>
                     <div class="info-card border-l-4 border-red-500">
                        <h3 class="text-lg font-bold text-red-700 mb-2">Crime, Justice & Deterrence</h3>
                        <p class="text-sm text-gray-700">Predators (criminals) engage in theft. Enforcers (police) attempt arrests, leading to jail time (incarceration). This system models Becker's (1968) economic theory of crime, where agents weigh expected benefits against costs (probability of arrest, severity of punishment). Bribe mechanics introduce corruption, while jail time simulates incapacitation and potential deterrence effects.</p>
                    </div>
                     <div class="info-card border-l-4 border-gray-500">
                        <h3 class="text-lg font-bold text-gray-700 mb-2">Corruption (Principal-Agent Problem)</h3>
                        <p class="text-sm text-gray-700">Enforcers (agents) acting against the public interest (principal) by accepting bribes illustrates the principal-agent problem (Jensen & Meckling, 1976). Information asymmetry (witness requirement) allows corruption. Internal policing (witness Enforcers catching corrupt ones) represents institutional mechanisms to mitigate agency costs and align agent behavior with principal goals.</p>
                    </div>
                     <div class="info-card border-l-4 border-yellow-500">
                        <h3 class="text-lg font-bold text-yellow-700 mb-2">Inequality & Population Dynamics</h3>
                        <p class="text-sm text-gray-700">Agent 'Ability' follows a skewed Pareto distribution (Pareto, 1896), creating inherent inequality in resource acquisition. This reflects observed wealth distributions ('80/20 rule'). Population reseeding based on type ratios models ecological pressures or social mobility. Default ratios are informed by behavioral game theory experiments (Fehr & Gächter, 2002) and estimates of chronic offending.</p>
                    </div>
                    <!-- Rewritten Cards -->
                    <div class="info-card border-l-4 border-purple-500">
                        <h3 class="text-lg font-bold text-purple-700 mb-2">Bioeconomics & Metabolism</h3>
                        <p class="text-sm text-gray-700">Continuous mass decay simulates metabolic costs or the 'cost of living'. Larger agents decay faster, reflecting biological scaling laws (Kleiber's Law) where metabolic rate scales sub-linearly with mass (approx. M^0.75). This creates a bioeconomic pressure (Clark, 1990) – agents must constantly acquire resources to maintain their mass, driving competition and cooperation.</p>
                    </div>
                     <div class="info-card border-l-4 border-orange-500"> <!-- Changed border color -->
                        <h3 class="text-lg font-bold text-orange-700 mb-2">Private Sanctuaries & Evasion (Predator Nodes)</h3> <!-- Added Ref -->
                        <p class="text-sm text-gray-700">Predator Nodes function as private 'sanctuaries'. Top predators invest mass to build these exclusive zones, providing resources and defense against Enforcers (attacking them). This models illicit economies or territories where criminal actors operate with reduced risk (Gambetta, 1993). Raids represent law enforcement interventions triggered by repeated attacks originating from these areas.</p> <!-- Updated Text for v03 logic -->
                    </div>
                </div>
            </div> <!-- End Right Column -->
        </div> <!-- End Main Flex Row -->

        <!-- Configuration Panel -->
        <div id="config-panel" class="info-card w-full">
            <h2 class="text-xl font-semibold mb-4 text-gray-700">Simulation Configuration</h2>
            <p class="text-sm text-gray-500 mb-4">Adjust parameters before starting or resetting the simulation.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-x-6 gap-y-4">
                <!-- Population Sliders -->
                <div class="flex flex-col gap-3 p-3 border rounded-lg">
                    <h3 class="font-semibold text-gray-600 border-b pb-1">Starting Population</h3>
                    <div class="config-item">
                        <label for="slider-cooperators" class="block text-sm font-medium text-green-600">Cooperators</label>
                        <div class="flex gap-2">
                            <input type="range" id="slider-cooperators" min="0" max="100" value="25" class="w-full" />
                            <input type="number" id="num-cooperators" min="0" max="100" value="25" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                    <div class="config-item">
                        <label for="slider-competitors" class="block text-sm font-medium text-orange-600">Competitors</label>
                        <div class="flex gap-2">
                            <input type="range" id="slider-competitors" min="0" max="100" value="7" class="w-full" />
                            <input type="number" id="num-competitors" min="0" max="100" value="7" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                    <div class="config-item">
                        <label for="slider-defectors" class="block text-sm font-medium text-purple-600">Defectors</label>
                        <div class="flex gap-2">
                            <input type="range" id="slider-defectors" min="0" max="100" value="15" class="w-full" />
                            <input type="number" id="num-defectors" min="0" max="100" value="15" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                    <div class="config-item">
                        <label for="slider-predators" class="block text-sm font-medium text-red-600">Predators</label>
                        <div class="flex gap-2">
                            <input type="range" id="slider-predators" min="0" max="100" value="3" class="w-full" />
                            <input type="number" id="num-predators" min="0" max="100" value="3" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                </div>

                <!-- Governance Sliders -->
                <div class="flex flex-col gap-3 p-3 border rounded-lg">
                    <h3 class="font-semibold text-gray-600 border-b pb-1">Governance</h3>
                    <div class="config-item">
                         <label for="slider-salary" class="block text-sm font-medium text-blue-600">Enforcer Salary (per frame)</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-salary" min="0.1" max="5" step="0.1" value="3.0" class="w-full" />
                            <input type="number" id="num-salary" min="0.1" max="5" step="0.1" value="3.0" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                    <div class="config-item">
                         <label for="slider-vision" class="block text-sm font-medium text-blue-600">Enforcer Vision (pixels)</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-vision" min="50" max="500" step="10" value="150" class="w-full" />
                            <input type="number" id="num-vision" min="50" max="500" step="10" value="150" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                </div>

                <!-- Crime & Justice Sliders -->
                <div class="flex flex-col gap-3 p-3 border rounded-lg">
                    <h3 class="font-semibold text-gray-600 border-b pb-1">Crime & Justice</h3>
                    <div class="config-item">
                         <label for="slider-jail" class="block text-sm font-medium text-gray-700">Jail Time (frames)</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-jail" min="100" max="5000" step="100" value="2500" class="w-full" />
                            <input type="number" id="num-jail" min="100" max="5000" step="100" value="2500" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                    <div class="config-item">
                         <label for="slider-bribe" class="block text-sm font-medium text-gray-700">Bribe Chance (%)</label>
                         <div class="flex gap-2">
                            <!-- Corrected default based on v03.js -->
                            <input type="range" id="slider-bribe" min="0" max="100" step="1" value="5" class="w-full" />
                            <input type="number" id="num-bribe" min="0" max="100" step="1" value="5" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                </div>

                <!-- Data-Driven Defaults Card -->
                 <div class="flex flex-col gap-3 p-3 border rounded-lg bg-gray-50">
                    <h3 class="font-semibold text-gray-600 border-b pb-1">Data-Driven Defaults</h3>
                    <p class="text-sm text-gray-600">
                        Default population based on behavioral economics/criminology:
                    </p>
                    <ul class="list-disc list-inside text-sm text-gray-500 space-y-1">
                        <li><b>Cooperators (50%):</b> Conditional cooperators.</li>
                        <li><b>Competitors (15%):</b> Rational individualists.</li>
                        <li><b>Defectors (30%):</b> Persistent free-riders.</li>
                        <li><b>Predators (5%):</b> Active, chronic offenders.</li>
                    </ul>
                </div>


                <!-- Reciprocity & Cooperation Sliders -->
                <div class="flex flex-col gap-3 p-3 border rounded-lg">
                    <h3 class="font-semibold text-gray-600 border-b pb-1">Reciprocity & Cooperation</h3>
                    <div class="config-item">
                         <label for="slider-coop-range" class="block text-sm font-medium text-green-600">Cooperation Range (pixels)</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-coop-range" min="10" max="200" step="5" value="50" class="w-full" />
                            <input type="number" id="num-coop-range" min="10" max="200" step="5" value="50" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                    <div class="config-item">
                         <label for="slider-exclusion" class="block text-sm font-medium text-purple-600">Defector Exclusion Threshold</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-exclusion" min="1" max="20" step="1" value="3" class="w-full" />
                            <input type="number" id="num-exclusion" min="1" max="20" step="1" value="3" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                </div>

                <!-- Predation & Evasion Sliders -->
                <div class="flex flex-col gap-3 p-3 border rounded-lg">
                    <h3 class="font-semibold text-gray-600 border-b pb-1">Predation & Evasion</h3>
                    <div class="config-item">
                         <label for="slider-theft-rate" class="block text-sm font-medium text-red-600">Predator Theft Rate (%)</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-theft-rate" min="1" max="50" step="1" value="35" class="w-full" />
                            <input type="number" id="num-theft-rate" min="1" max="50" step="1" value="35" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                    <div class="config-item">
                         <label for="slider-predator-vision" class="block text-sm font-medium text-red-600">Predator Avoidance Range</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-predator-vision" min="50" max="500" step="10" value="200" class="w-full" />
                            <input type="number" id="num-predator-vision" min="50" max="500" step="10" value="200" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                </div>

                <!-- Collective Investment (Co-op) Sliders -->
                <div class="flex flex-col gap-3 p-3 border rounded-lg">
                    <h3 class="font-semibold text-gray-600 border-b pb-1">Collective Investment (Co-op)</h3>
                    <div class="config-item">
                         <label for="slider-node-contrib" class="block text-sm font-medium text-cyan-600">Node Contribution Rate (%)</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-node-contrib" min="1" max="50" step="1" value="15" class="w-full" />
                            <input type="number" id="num-node-contrib" min="1" max="50" step="1" value="15" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                    <div class="config-item">
                         <label for="slider-node-punish" class="block text-sm font-medium text-cyan-600">Node Punishment Rate (%)</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-node-punish" min="1" max="100" step="1" value="30" class="w-full" />
                            <input type="number" id="num-node-punish" min="1" max="100" step="1" value="30" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                </div>

                <!-- Simulation Economy Sliders -->
                <div class="flex flex-col gap-3 p-3 border rounded-lg">
                    <h3 class="font-semibold text-gray-600 border-b pb-1">Simulation Economy</h3>
                    <div class="config-item">
                         <label for="slider-resource-gain" class="block text-sm font-medium text-gray-700">Resource Mass Gain</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-resource-gain" min="10" max="500" step="10" value="75" class="w-full" />
                            <input type="number" id="num-resource-gain" min="10" max="500" step="10" value="75" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                    <div class="config-item">
                         <label for="slider-decay" class="block text-sm font-medium text-gray-700">Base Mass Decay</label>
                         <div class="flex gap-2">
                            <input type="range" id="slider-decay" min="0.01" max="0.1" step="0.01" value="0.04" class="w-full" />
                            <input type="number" id="num-decay" min="0.01" max="0.1" step="0.01" value="0.04" class="w-20 p-1 border rounded text-sm" />
                        </div>
                    </div>
                </div>

            </div> <!-- End Config Grid -->
        </div> <!-- End Config Panel -->

    </div> <!-- End Main Container -->
    <!-- Use v03.js -->
    <script src="v03.js" defer></script>
</body>

</html>
